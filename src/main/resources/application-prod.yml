spring:
  datasource:
    url: ${REDGUARD_DB_URL}
    username: ${REDGUARD_DB_USERNAME}
    password: ${REDGUARD_DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: validate
    open-in-view: false
  data:
    redis:
      host: ${REDGUARD_REDIS_HOST}
      port: ${REDGUARD_REDIS_PORT:6379}
      password: ${REDGUARD_REDIS_PASSWORD:}
      ssl:
        enabled: true
      timeout: 2000

server:
  shutdown: graceful

redguard:
  rate-limit:
    fallback-policy: ALLOW_ALL
  admin-auth:
    issuer: redguard-admin
    access-token-secret: ${REDGUARD_ADMIN_ACCESS_SECRET}
    refresh-token-secret: ${REDGUARD_ADMIN_REFRESH_SECRET}
    access-token-ttl: 15m
    refresh-token-ttl: 24h
    allowed-clock-skew-seconds: 30
    max-failed-attempts: 5
    lockout-duration-minutes: 15
    token-namespace: admin:auth

logging:
  level:
    root: INFO
    com.redguard: INFO
